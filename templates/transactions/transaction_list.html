{% extends 'base.html' %}
{% block title %}Transactions{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center">
  <h3>{{ title }}</h3>
  <a href="{% url 'transactions:transaction_create' %}" class="btn btn-primary">New</a>
</div>

<form class="row g-2 my-3">
  <div class="col-auto">
    <select name="account" class="form-select">
      <option value="">All accounts</option>
      {% for a in accounts %}
        <option value="{{ a.id }}" {% if active_account == a.id|stringformat:"s" %}selected{% endif %}>{{ a.number }} - {{ a.name }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="col-auto">
    <button class="btn btn-outline-secondary">Filter</button>
  </div>
</form>

<table class="table table-hover">
  <thead>
    <tr>
      <th>Account</th>
      <th>Type</th>
      <th>Amount</th>
      <th>Memo</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody>
    {% for t in transactions %}
      <tr>
        <td>{{ t.account.number }}</td>
        <td>{{ t.get_type_display }}</td>
        <td>{{ t.amount }}</td>
        <td>{{ t.memo }}</td>
        <td>{{ t.created_at }}</td>
      </tr>
    {% empty %}
      <tr><td colspan="5">No transactions found.</td></tr>
    {% endfor %}
  </tbody>
</table>

{% include 'partials/pagination.html' with page_obj=page_obj %}
{% endblock %}
